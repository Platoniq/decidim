<% display_condition = form.object %>

<div class="card questionnaire-question-display-condition">
  <div class="card-divider">
    <h2 class="card-title">
    <span><%= t(".display_condition") %></span>
    <% if editable %>
      <button class="button small alert hollow remove-display-condition button--title">
        <%= t(".remove") %>
      </button>
    <% end %>
    </h2>
  </div>

  <div class="card-section">
    <div class="row column questionnaire-question-display-condition-condition-question">     
      <%=
        form.select(
          :condition_question,
          questionnaire.questions.previous_to(question.position).map { |question| [question.translated_body, question.id, { 'data-type' => question.question_type} ] },
          { prompt: t(".select_condition_question") },
          disabled: !editable,
          data: { url: "provisional" }
        )
      %>
    </div>
    <div class="row column">
      <%=
        form.select(
          :condition_type,
          options_from_collection_for_select(display_condition_types, :first, :last, display_condition.condition_type),
          { prompt: t(".select_condition_type") },
          disabled: !editable
        )
      %>
    </div>
    <div class="row column questionnaire-question-display-condition-answer-option">
      <%#
        form.select(
          :answer_option,
          options_from_collection_for_select(display_condition.answer_options, :first, :last, display_condition.answer_option),
          { prompt: t(".select_answer_option") },
          disabled: !editable
        )
      %>
    </div>
    <div class="row column questionnaire-question-display-condition-value">
      <%=
        form.translated(
          :text_field,
          :condition_value,
          tabs_id: tabs_id_for_question_display_condition(question, display_condition),
          label: t(".condition_value"),
          disabled: !editable
        )
      %>
    </div>
    <div class="row column">
      <%=
        form.check_box(
          :mandatory,
          label: t(".mandatory"),
          disabled: !questionnaire.questions_editable?
        )
      %>
    </div>
  </div>

  <% if display_condition.persisted? %>
    <%= form.hidden_field :id, disabled: !editable %>
  <% end %>

  <%= form.hidden_field :deleted, disabled: !editable %>
</div>
