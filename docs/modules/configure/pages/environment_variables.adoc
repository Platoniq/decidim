= Environment Variables

We try to let most of the things defined through Environment Variables, as https://12factor.net/config[12factor applications's config]. You'll need to configure through your hosting provider (for example in Heroku), through a gem like `figaro` or through docker-compose `env_file`.

The next table shows all the default Env Vars available when running a default Decidim application (note that customized Decidim apps might differ). The ones marked in *bold* are the minimal required to run a production server. The ones marked as _italic_ are only required for development.

.Decidim Env Vars
|===
|Name |Value |Default value|Multitenant's System configurable

|_DATABASE_HOST_
|Hostname for the Postgres database.
|localhost
|No

|_DATABASE_PASSWORD_
|Password for the Postgres database
|
|No

|_DATABASE_PORT_
|Port for the Postgres database.
|5432
|No

|_DATABASE_USERNAME_
|Username for the Postgres database. Note that database name is autogenerated in development mode thus there's no config var here.
|
|No

|*DATABASE_URL*
|For production environments database needs to be defined as a string following the scheme: `postgres://USERNAME:PASSWORD@HOST/DATABASE_NAME``
|
|No

|*RAILS_ENV*
|Environment for Ruby on Rails. If it's on your local machine for development, then it should be `development`. If it's on server it should be `production`. Please take care that this has security implications. You DON'T want to be running a production application on development mode.
|development
|No

|RAILS_LOG_TO_STDOUT
|If defined (value is indifferent) it'll show the log contents on the shell Standard Out. It's special relevant on certain hosting providers (for example, Heroku or Docker). It's also part of https://12factor.net/logs[12factor's recommendations].
|
|No

|RAILS_SERVE_STATIC_FILES
|If defined (value is indifferent) it'll serve static files present in the `public` folder of Rails. It's special relevant on certain hosting providers (for example, Heroku or Docker). 
|
|No

|PORT
|Specifies the `port` that Puma will listen on to receive requests. This does not apply to alternative application servers such as Passenger.
|3000
|No

|RAILS_MAX_THREADS
|Specifies the maximum number of concurrent database connections and `threads` that Puma will use to serve requests. Please refer to http://guides.rubyonrails.org/configuring.html#database-pooling for more information.
|5
|No

|*SECRET_KEY_BASE*
|Secret key base for the Application. It's specially important that this is kept secret from the outside word; do NOT publish it on GitHub/GitLab/BitBucket.
|
|No

|*SMTP_ADDRESS*
|Hostname for the SMTP server, for sending emails. See xref:services:smtp.adoc[SMTP]
|
|*Yes*

|*SMTP_DOMAIN*
|Domain for the SMTP server, for sending emails. See xref:services:smtp.adoc[SMTP]
|
|*Yes*

|*SMTP_PASSWORD*
|Password for the SMTP server, for sending emails. See xref:services:smtp.adoc[SMTP]
|
|*Yes*

|*SMTP_USERNAME*
|Username for the SMTP server, for sending emails. See xref:services:smtp.adoc[SMTP]
|
|*Yes*

|*DECIDIM_APPLICATION_NAME*
|Default name (shown in the browser's title status and search engines) for the Decidim instance.
|My Application Name
|*Yes*

|*DECIDIM_MAILER_SENDER*
|Default Reply email for any email sent (transactional or newsletters).
|change-me@example.org
|*Yes*

|DECIDIM_AVAILABLE_LOCALES
|a list of, coma separated, locales that will be available for each organization configured in the System configuration. Check for the https://github.com/decidim/decidim/blob/develop/decidim-core/lib/decidim/core.rb#L163[Supported values] in ISO639 format. 
|en,ca,es
|No

|DECIDIM_DEFAULT_LOCALE
|The default locale to be used as a fallback (note that, in practice, this value must always be defined in the System configuration for each organization anyway).
|en
|*Yes*

|DECIDIM_DISABLE_SSL
|By default, Decidim enforces a SSL connection (https), sometimes it is necessary to disable it in order to handle this through a proxy system (note that use Decidim without SSL at all is NOT RECOMMENDED). Set this var to `true` in order to not force SSL.
|
|No

|DECIDIM_ENABLE_HTML_HEADER_SNIPPETS
|Set to `true` in order to allow administrators to define an arbitrary custom HTML code in the `<head></head>` section any Decidim page.

The most common use is to integrate third-party services that require some
extra JavaScript or CSS. Also, you can use it to add extra meta tags to the
HTML. Note that this will only be rendered in public pages, not in the admin
section.

Before enabling this you should ensure that any tracking that might be done
is in accordance with the rules and regulations that apply to your
environment and usage scenarios. This component also comes with the risk
that an organization's administrator injects malicious scripts to spy on or
take over user accounts.
|
|No

|DECIDIM_CURRENCY_UNIT
|Currency unit is used in view showing monetary actions, such as budgets. It does not affect any internal calculations.
|â‚¬
|No

|DECIDIM_IMAGE_UPLOADER_QUALITY
|Defines the quality of image uploads after processing. Image uploads are processed by Decidim, this value helps reduce the size of the files.
|80
|No

|DECIDIM_MAX_REPORTS_BEFORE_HIDING
|The number of reports which a resource can receive before hiding it. This affects moderations for resources such as proposals or users.
|3
|No

|SMTP_PORT
|Port for the SMTP server, for sending emails. See xref:services:smtp.adoc[SMTP]
|587
|*Yes*

|SMTP_STARTTLS_AUTO
|Automatically use STARTTLS protocol for the SMTP server, for sending emails. See xref:services:smtp.adoc[SMTP]
|true
|*Yes*

|SMTP_AUTHENTICATION
|Type of authentication for the SMTP server, for sending emails. See xref:services:smtp.adoc[SMTP]
|plain
|*Yes*

|GEOCODER_API_KEY
|API key for Geocoder and map provider if using https://HERE.com[HERE Maps]. See xref:services:maps.adoc[Maps].
|
|No

|ETHERPAD_SERVER
|URL for an https://etherpad.org/[Etherpad.org] server to integrate in Decidim for collaborative, real time writing events. See xref:services:etherpad.adoc[Etherpad].
|
|No

|ETHERPAD_API_KEY
|API key for communicating with the Etherpad server. See xref:services:etherpad.adoc[Etherpad].
|
|No

|OMNIAUTH_FACEBOOK_APP_ID
|App ID for enabling access through Facebook.com accounts. See xref:services:social_providers.adoc[Social Providers]. Note that defining this variable automatically renders the "login with" button. 
|
|*Yes*

|OMNIAUTH_FACEBOOK_APP_SECRET
|App Secret for enabling access through Facebook.com accounts. See xref:services:social_providers.adoc[Social Providers].
|
|*Yes*

|OMNIAUTH_GOOGLE_CLIENT_ID
|Client ID for enabling access through Google.com accounts. See xref:services:social_providers.adoc[Social Providers].
|
|*Yes*

|OMNIAUTH_GOOGLE_CLIENT_SECRET
|Client Secret for enabling access through Google.com accounts. See xref:services:social_providers.adoc[Social Providers].
|
|*Yes*

|OMNIAUTH_TWITTER_API_KEY
|API Key for enabling access through Twitter.com accounts. See xref:services:social_providers.adoc[Social Providers].
|
|*Yes*

|OMNIAUTH_TWITTER_API_SECRET
|API Secret for enabling access through Twitter.com accounts. See xref:services:social_providers.adoc[Social Providers].
|
|*Yes*

|BULLETIN_BOARD_SERVER
|The full URL to identify a https://github.com/decidim/decidim-bulletin-board[Bulletin Board Server]. *It must point to the Graphql API* (ie: https://bulletinexample.com/api) See xref:services:elections_bulletin_board.adoc[Elections Bulletin Board].
|
|No

|BULLETIN_BOARD_PUBLIC_KEY
|The public RSA key used to verify the Bulletin Board Server. See xref:services:elections_bulletin_board.adoc[Elections Bulletin Board].
|
|No

|BULLETIN_BOARD_API_KEY
|An additional API key to add additional security with the comunications with the Elections Bulletin Board Server. See xref:services:elections_bulletin_board.adoc[Elections Bulletin Board].
|
|No

|AUTHORITY_NAME
|The name of the Authority registered in the Bulletin Board Server corresponding to this Decidim instance. See xref:services:elections_bulletin_board.adoc[Elections Bulletin Board].
|
|No

|AUTHORITY_PRIVATE_KEY
|The private RSA key of this Decidim instance corresponding to the Authority public key registered in the Bulletin Board Server. See xref:services:elections_bulletin_board.adoc[Elections Bulletin Board].
|
|No

|ELECTIONS_SCHEME_NAME
|The type of strategy used in the Bulletin Board Server used for encrypting the Election. *Currently only `electionguard` is available for production* See xref:services:elections_bulletin_board.adoc[Elections Bulletin Board].
|electionguard
|No

|ELECTIONS_NUMBER_OF_TRUSTEES
|Number of trustees for `electionguard` election scheme, minimum number is 2. See xref:services:elections_bulletin_board.adoc[Elections Bulletin Board].
|
|No

|ELECTIONS_QUORUM
|Number of trustees required to be present in order to decrypt an election in case of the `electionguard` scheme. Minimum is 2, maximum the number os trustees. See xref:services:elections_bulletin_board.adoc[Elections Bulletin Board].
|
|No


|===

Please take care that all these configurations would be the defaults but *some of these could also be changed on a Multitenant's System configuration* (for instance SMTP or OAUTH providers).

